<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Joojit - Geometria Cognitiva</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    :root {
      --primary-ion: #EAEAEA;
      --hover-solar: #FFEF00;
      --primary-pink: #FF1E8E;
      --vibrant-cyan: #00FFF7;
      --lime-acid-green: #A6FF00;
      --background-dark: #050505;
    }
    #bg-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .glassmorphism {
      background: rgba(10, 0, 21, 0.5); /* Semi-transparent dark purple */
      backdrop-filter: blur(10px);
      border: 1px solid rgba(234, 234, 234, 0.1);
      border-radius: 1rem;
    }
    .content-section {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .content-section.visible {
        opacity: 1;
        transform: translateY(0);
    }
    button {
        transition: all 0.3s ease;
    }
    .hero-button-hover:hover {
        transform: scale(1.05);
        box-shadow: 0 0 25px var(--primary-pink);
    }
    .demo-button-hover:hover {
        transform: scale(1.05);
        box-shadow: 0 0 25px var(--lime-acid-green);
    }
    /* Language Toggle Styles */
    .lang-toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--primary-ion);
    }
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
    }
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #333;
        transition: .4s;
        border-radius: 24px;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    input:checked + .slider {
        background-color: var(--primary-pink);
    }
    input:checked + .slider:before {
        transform: translateX(26px);
    }
  </style>
</head>
<body class="bg-black text-white">

  <canvas id="bg-canvas"></canvas>

  <!-- Navigation Bar -->
  <nav class="fixed top-0 left-0 right-0 z-50 p-4">
    <div class="container mx-auto flex justify-between items-center glassmorphism px-6 py-3">
      <h1 class="text-2xl font-bold" style="color:var(--primary-pink);">Joojit</h1>
      <div class="lang-toggle">
        <span>PT</span>
        <label class="toggle-switch">
          <input type="checkbox" id="lang-toggle-checkbox">
          <span class="slider"></span>
        </label>
        <span>EN</span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="h-screen flex flex-col justify-center items-center text-center px-4">
    <div class="glassmorphism p-8 md:p-12">
      <h1 class="text-5xl md:text-6xl font-bold mb-6" style="color:var(--primary-pink);">Joojit</h1>
      <p data-lang="hero-desc" class="text-lg md:text-xl text-gray-300 max-w-2xl leading-relaxed">
        <!-- Content will be populated by script -->
      </p>
      <button
        data-lang="hero-btn"
        class="mt-10 px-8 py-4 rounded-lg text-lg font-semibold hero-button-hover"
        style="background-color:var(--primary-pink); color:black;"
        onclick="enterInterface()"
      >
        <!-- Content will be populated by script -->
      </button>
    </div>
  </section>

  <!-- About Section -->
  <section class="content-section py-24 text-white text-center px-4">
    <div class="container mx-auto glassmorphism p-8 md:p-12 max-w-4xl">
      <h2 data-lang="about-title" class="text-4xl font-bold mb-8" style="color:var(--vibrant-cyan);">
        <!-- Content will be populated by script -->
      </h2>
      <p data-lang="about-desc" class="max-w-3xl mx-auto text-lg text-gray-300 leading-relaxed">
        <!-- Content will be populated by script -->
      </p>
    </div>
  </section>

  <!-- Demo Section -->
  <section class="content-section py-24 text-center text-gray-200 px-4">
     <div class="container mx-auto glassmorphism p-8 md:p-12 max-w-4xl">
      <h2 data-lang="demo-title" class="text-4xl font-bold mb-8" style="color:var(--lime-acid-green);">
        <!-- Content will be populated by script -->
      </h2>
      <p data-lang="demo-desc" class="max-w-2xl mx-auto text-lg mb-8 leading-relaxed">
        <!-- Content will be populated by script -->
      </p>
      <button
        data-lang="demo-btn"
        class="px-8 py-4 rounded-lg text-lg font-semibold demo-button-hover"
        style="background-color:var(--lime-acid-green); color:black;"
        onclick="enterInterface()"
      >
        <!-- Content will be populated by script -->
      </button>
    </div>
  </section>

  <!-- Footer Section -->
  <footer class="py-10 bg-[#050505] text-center text-gray-500 text-sm">
    <p data-lang="footer-text">
      <!-- Content will be populated by script -->
    </p>
  </footer>

  <script>
    // --- LANGUAGE CONTENT ---
    const langContent = {
        pt: {
            "title": "Joojit - Geometria Cognitiva",
            "hero-desc": 'Uma interface cognitiva que visualiza a <span style="color: var(--vibrant-cyan);">geometria do diálogo</span> — traçando emoção, coerência e ressonância na troca humano-máquina.',
            "hero-btn": "Entrar na Interface →",
            "about-title": "O Que o Joojit Faz",
            "about-desc": "Joojit é um intérprete reflexivo — um experimento em <em>Geometria Cognitiva</em>. Ele grava, analisa e visualiza conversas como constelações de pensamento, permitindo que os usuários vejam a dinâmica emocional e estrutural do diálogo se desenrolar em tempo real.",
            "demo-title": "Explore o Protótipo",
            "demo-desc": "O protótipo integra análise lexical de emoções, métricas de coerência semântica e renderização visual 3D. É um experimento full-stack em interpretabilidade — construído com Flask, OpenAI e Three.js.",
            "demo-btn": "Experimente o Joojit →",
            "footer-text": "© 2025 Mute Logic Lab · Um Protótipo de Geometria Cognitiva"
        },
        en: {
            "title": "Joojit - Cognitive Geometry",
            "hero-desc": 'A cognitive interface that visualizes the <span style="color: var(--vibrant-cyan);">geometry of dialogue</span> — tracing emotion, coherence, and resonance across human–machine exchange.',
            "hero-btn": "Enter the Interface →",
            "about-title": "What Joojit Does",
            "about-desc": "Joojit is a reflective interpreter — an experiment in <em>Cognitive Geometry</em>. It records, analyzes, and visualizes conversations as constellations of thought, allowing users to see the emotional and structural dynamics of dialogue unfold in real time.",
            "demo-title": "Explore the Prototype",
            "demo-desc": "The prototype integrates lexical emotion analysis, semantic coherence metrics, and 3D visual rendering. It’s a full-stack experiment in interpretability — built with Flask, OpenAI, and Three.js.",
            "demo-btn": "Try Joojit →",
            "footer-text": "© 2025 Mute Logic Lab · A Cognitive Geometry Prototype"
        }
    };
    
    // --- LANGUAGE TOGGLE ---
    const langToggle = document.getElementById('lang-toggle-checkbox');
    let currentLang = 'pt';
    
    function setLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('joojit-lang', lang);
        document.documentElement.lang = lang;
        document.title = langContent[lang].title;
        document.querySelectorAll('[data-lang]').forEach(el => {
            const key = el.getAttribute('data-lang');
            if (langContent[lang][key]) {
                el.innerHTML = langContent[lang][key];
            }
        });
        langToggle.checked = (lang === 'en');
    }

    langToggle.addEventListener('change', () => {
        setLanguage(langToggle.checked ? 'en' : 'pt');
    });

    // Set initial language from localStorage or default to 'pt'
    const savedLang = localStorage.getItem('joojit-lang') || 'pt';
    setLanguage(savedLang);


    // --- 3D Background Animation ---
    let scene, camera, renderer, stars;

    function init3D() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 1;
        
        renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 1);

        const starGeometry = new THREE.BufferGeometry();
        const starVertices = [];
        for (let i = 0; i < 6000; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 2000;
            const z = (Math.random() - 0.5) * 2000;
            starVertices.push(x, y, z);
        }
        starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
        
        const starMaterial = new THREE.PointsMaterial({
            color: 0xaaaaaa,
            size: 0.7,
            transparent: true
        });

        stars = new THREE.Points(starGeometry, starMaterial);
        scene.add(stars);

        window.addEventListener('resize', onWindowResize, false);
        document.addEventListener('mousemove', onMouseMove, false);
    }

    function animate3D() {
        requestAnimationFrame(animate3D);
        stars.rotation.x += 0.0001;
        stars.rotation.y += 0.0001;
        renderer.render(scene, camera);
    }

    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }
    
    function onMouseMove(event) {
        // Subtle parallax effect
        const mouseX = (event.clientX - window.innerWidth / 2) / 100;
        const mouseY = (event.clientY - window.innerHeight / 2) / 100;
        camera.position.x += (mouseX - camera.position.x) * 0.01;
        camera.position.y += (-mouseY - camera.position.y) * 0.01;
        camera.lookAt(scene.position);
    }

    init3D();
    animate3D();

    // --- Scroll Animations ---
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, {
        threshold: 0.1
    });

    document.querySelectorAll('.content-section').forEach(section => {
        observer.observe(section);
    });
    
    // --- Navigation ---
    function enterInterface() {
        console.log("User entering interface at", new Date().toISOString());
        window.location.href = `/joojit?lang=${currentLang}`;
    }
  </script>

</body>
</html>

